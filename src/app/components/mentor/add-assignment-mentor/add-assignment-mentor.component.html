<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Enhanced Header Section with Glass Morphism -->
  <div class="mb-8 relative overflow-hidden !rounded-2xl">
    <!-- Header Section -->
    <!-- Background elements -->
    <div
      class="absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)] bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"
    ></div>

    <mat-card
      class="bg-white dark:bg-gray-800 !rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 relative z-9"
    >
      <div class="p-8 text-center">
        <mat-card-title
          class="!text-4xl !font-bold !bg-clip-text !text-transparent bg-gradient-to-r from-emerald-600 to-teal-600 dark:from-emerald-400 dark:to-teal-400 mb-2"
        >
          Create New Assignment
        </mat-card-title>
        <mat-card-subtitle class="!text-lg text-gray-600 dark:text-gray-300">
          Define assignment details and content for your students
        </mat-card-subtitle>
      </div>
    </mat-card>
  </div>

  <!-- Form Section with Enhanced Styling -->
  <div
    class="bg-white dark:bg-gray-800 !rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 transition-all duration-300 hover:shadow-xl"
  >
    <form (ngSubmit)="addAssignments()" class="p-6 sm:p-8">
      <div class="space-y-6">
        <!-- Course Selection -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label class="text-gray-700 dark:text-gray-300"
            >Select Course</mat-label
          >
          <mat-select
            name="course"
            required
            (selectionChange)="loadLectures($event.value)"
            class="dark:text-white"
          >
            <mat-option [value]="">-- Select Course --</mat-option>
            <mat-option *ngFor="let c of courses" [value]="c.cId">
              {{ c.cTitle }}
            </mat-option>
          </mat-select>
          <mat-icon
            matPrefix
            class="text-emerald-600 dark:text-emerald-400 mr-2"
            >school</mat-icon
          >
          <mat-hint class="text-gray-500 dark:text-gray-400"
            >Select the course for this assignment</mat-hint
          >
        </mat-form-field>

        <!-- Lecture Selection -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label class="text-gray-700 dark:text-gray-300"
            >Select Lecture</mat-label
          >
          <mat-select
            [(ngModel)]="assignment.lecture.lId"
            name="lecture"
            required
            class="dark:text-white"
          >
            <mat-option [value]="">-- Select Lecture --</mat-option>
            <mat-option *ngFor="let l of lectures" [value]="l.lId">
              {{ l.lTitle }} (Lecture {{ l.lNo }})
            </mat-option>
          </mat-select>
          <mat-icon
            matPrefix
            class="text-emerald-600 dark:text-emerald-400 mr-2"
            >menu_book</mat-icon
          >
          <mat-hint class="text-gray-500 dark:text-gray-400"
            >Select the lecture this assignment belongs to</mat-hint
          >
        </mat-form-field>

        <!-- Max Marks -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label class="text-gray-700 dark:text-gray-300"
            >Maximum Marks</mat-label
          >
          <input
            [(ngModel)]="assignment.maxMarks"
            name="maxMarks"
            type="number"
            matInput
            placeholder="e.g. 100"
            required
            min="10"
            max="100"
            class="dark:text-white"
          />
          <mat-icon
            matPrefix
            class="text-emerald-600 dark:text-emerald-400 mr-2"
            >score</mat-icon
          >
          <mat-hint class="text-gray-500 dark:text-gray-400"
            >Must be between 10-100 marks</mat-hint
          >
        </mat-form-field>

        <!-- Assignment Content -->
        <div class="space-y-2">
          <label
            class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
            >Assignment Content</label
          >
          <div
            class="rounded-lg border dark:!text-gray-800 border-gray-200 dark:border-gray-600 overflow-hidden transition-all duration-300 hover:border-gray-300 dark:hover:border-gray-500"
          >
            <ckeditor
              [editor]="Editor"
              [(ngModel)]="assignment.aContent"
              name="description"
              required
              [config]="{
                placeholder: 'Enter detailed assignment instructions...',
                toolbar: [
                  '|',
                  'undo',
                  'redo',
                  '|',
                  'heading',
                  '|',
                  'bold',
                  'italic',
                  'link',
                  '|',
                  'bulletedList',
                  'numberedList',
                  '|',
                  'blockQuote',
                  '|',
                  'insertTable'
                ]
              }"
            ></ckeditor>
          </div>
          <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
            Provide clear instructions and requirements for the assignment
          </p>
        </div>
      </div>

      <!-- Form Actions with Enhanced Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center mt-8">
        <button
          type="submit"
          class="!bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white !rounded-xl !font-medium !px-8 !py-3 !shadow-lg hover:!shadow-xl transition-all duration-300 flex items-center justify-center"
        >
          <mat-icon class="mr-2">add_circle</mat-icon>
          Create Assignment
        </button>
        <button
          type="reset"
          class="!border-gray-300 !text-gray-700 dark:!text-gray-300 hover:!bg-gray-50 dark:hover:!bg-gray-700/20 !rounded-xl !font-medium !px-8 !py-3 transition-all duration-300 hover:shadow-md flex items-center justify-center"
        >
          <mat-icon class="mr-2">clear</mat-icon>
          Clear Form
        </button>
      </div>
    </form>
  </div>
</div>
